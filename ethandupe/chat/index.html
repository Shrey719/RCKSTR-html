<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="https://cdn.glitch.global/3758b37a-5fff-4595-b604-762ee951816d/muenster.png?v=1676838646502">

  <title>Muenster</title>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0">
  <link rel="preload" as="script" href="script.js">
  
  <link rel="preload" as="script" href="style.css">
  <link rel="stylesheet" href="style.css">

  <link rel="stylesheet" href="https://xylo.42.ar/assets/styles/forxylo.css">
  
  <script src="https://cdn.jsdelivr.net/npm/@jaames/iro@5"></script>
</head>

<body>
  <div id="notifWindow" class="notifWindow" style="display: none">
    This shouldn't be showing lol
  </div>
  <!-- this is the start of the real app -->
  <div id="start" class="page page-open" style="background-image: linear-gradient(360deg, #110, #313100)">
    <div class="welcomeboxes">
      <h1>Welcome to Muenster.</h1>
      <input type="button" class="button" value="Login" onclick="loginScreen();" />
      OR
      <input type="button" class="button" value="Sign Up" onclick="signupScreen();" />
    </div>
  </div>
  <div id="login" class="page" style="background-image: linear-gradient(360deg, #110, #313100)">
    <div class="welcomeboxes">
      <h1>Log In</h1>
      <form>
        USERNAME:
        <input type="text" class="loginbox" placeholder="Type here." onclick="" id="luser" autocomplete="username" /><br />
        PASSWORD:
        <input type="password" class="loginbox" placeholder="Type here." onclick="" id="lpass" autocomplete="current_password" /><br />
      </form>
      <br />
      <input type="button" class="button" value="Log In" onclick="loginFromNorm();" />
    </div>
  </div>
  <div id="signup" class="page" style="background-image: linear-gradient(360deg, #110, #313100)">
    <div class="welcomeboxes">
      <h1>Sign Up</h1>
      <form>
        USERNAME:
        <input type="text" class="loginbox" placeholder="Type here." onclick="" id="suser" autocomplete="username" /><br />
        PASSWORD:
        <input type="password" class="loginbox" placeholder="At least 8 characters" onclick="" id="spass" autocomplete="new_password" /><br />
      </form>
      <br />
      PLEASE TYPE THE CODE IN THIS IMAGE:<br />
      <img id="cap1" src="https://cdn.glitch.global/3758b37a-5fff-4595-b604-762ee951816d/loading.png?v=1679247518089" /><br />
      <input type="text" class="loginbox" placeholder="Type here." onclick="" id="captext1" /><input type="button" class="button2" value="Reload Captcha" onclick="loadCap();" />
      <br /><br />
      <input type="button" class="button" value="Sign Up" onclick="signupFromNorm();" />
    </div>
  </div>

  <div id="app" class="page apppage" style="background-color: #282828">
    <div id="sidebar" class="sidebar">
      <div class="sbar-btns">
        <img src="https://cdn.glitch.global/3758b37a-5fff-4595-b604-762ee951816d/home.png" class="button2" onclick="openSBarTab('online');" />
        <img src="https://cdn.glitch.global/3758b37a-5fff-4595-b604-762ee951816d/chat.png" class="button2" onclick="openSBarTab('directmsgs');" />
        <img src="https://cdn.glitch.global/3758b37a-5fff-4595-b604-762ee951816d/discover.png" class="button2" onclick="openSBarTab('discover');" />
        <img src="https://cdn.glitch.global/3758b37a-5fff-4595-b604-762ee951816d/settings.png" class="button2" onclick="openSBarTab('settingsside');" />
      </div>
      <div class="compression-arrow" id="cArrow" title="Compress Sidebar" onclick="compressSide()">
        <img src="https://cdn.glitch.global/3758b37a-5fff-4595-b604-762ee951816d/menu.png?v=1679611817257">
      </div>
      <div id="online"></div>
      <div id="settingsside" style="display: none">
        <input type="button" class="button2" value="Account Settings" onclick="settingsMenu(true, 'settings_account');" style="width: 240px;"><br>

        <input type="button" class="button2" value="Profile Settings" onclick="settingsMenu(true, 'settings_profile');" style="width: 240px;"><br>

        <input type="button" class="button2" value="Blocked Users" onclick="settingsMenu(true, 'settings_blocks');" style="width: 240px;"><br>
      </div>
      <div id="discover" style="display: none">
        Coming soon... most likely sometime around v2.9.0
      </div>
      <div id="directmsgs" style="display: none">
        <textarea id="dms-textbox" class="text2" style="width: 234px;" cols="1" placeholder="Type a username..."></textarea>
        <br />
        <b>Conversations</b><br />
        <div id="dm-list"></div>
      </div>
    </div>
    <div id="dms" class="messages"></div>
    <div id="groups" class="messages"></div>
    <div id="settingsmenu" class="messages" style="display: none;">
      <div id="settings_profile">
        <h1>
          PROFILE SETTINGS
        </h1>
        More customization coming soon...
        <br>
        <h3>
          PROFILE PICTURE (.pnng only - cool people don't use jpegs)
        </h3>
        <div>
          CURRENT PICTURE:<br>
          <img src="/api/username/pic.png" 
               style="width: 92px; height: 92px;"
               id="displaypic"/>
        </div>
        <span class="button"
              style="width: 32px; height: 32px;" alt="Upload" onclick="document.getElementById('profileupload').click();">
          <img src="https://cdn.glitch.global/3758b37a-5fff-4595-b604-762ee951816d/upload.png"
               style="width: 32px; height: 32px;">
        </span>
        <h3>
          USERNAME COLOR
        </h3>
        <div id="picker"></div>
        <input type="button" class="button2" value="Change Username Color" onclick="changeColor();" />
      </div>
      <div id="settings_blocks">
        <h1>
          BLOCKED USERS
        </h1>
        You will soon be able to block users if they're giving you a hard time
        (we also suggest you report them in the discord server!)
      </div>
      <div id="settings_account">
        <h1>
          ACCOUNT SETTINGS
        </h1>
        <details>
          <summary>
            <span style="font-size: 20px">Change Password</span>
            <span style="font-size: 11px">Don't like your password? Change it</span>
          </summary>
          <br />
          CURRENT PASSWORD:
          <input type="password" class="loginbox" placeholder="Type here." onclick="" id="cpcur" /><br />
          NEW PASSWORD:
          <input type="password" class="loginbox" placeholder="Type here." onclick="" id="cpnew" /><br />
          CONFIRM NEW PASSWORD:
          <input type="password" class="loginbox" placeholder="Type here." onclick="" id="cpnew2" /><br /><br />
          <input type="button" class="button2" value="Change Password" onclick="resetPassword();" />
        </details>
        <br />
        <details>
          <summary>
            <span style="font-size: 20px">Delete Account</span>
            <span style="font-size: 11px">Delete your account and touch grass</span>
          </summary>
          <br />
          USERNAME:
          <input type="text" class="loginbox" placeholder="Type here." onclick="" id="dausr" /><br />
          PASSWORD:
          <input type="password" class="loginbox" placeholder="Type here." onclick="" id="dapwd" /><br />
          PLEASE BE ABSOLUTELY SURE YOU WANT TO DELETE YOUR ACCOUNT!<br />
          To confirm you want to delete your account, please type "<span style="user-select: none">Delete my account</span>".<br />
          <input type="text" class="loginbox" placeholder="Delete my account" onclick="" id="dacfm" /><br /><br />
          <input type="button" class="button2" style="background-color: red" value="Delete Account" onclick="deleteAccount();" />
        </details>
        <br />
      </div>
    </div>
    <div id="chat__main" class="messages">
      <div class="message sysmsg">
        Welcome to Muenster!<br>
        <b>ANOUNCEMENT (6/9/23):</b> We've upgraded our filters a bit - sorry for the actions of other users. <span style="font-size: 9px;">also haha funny 69</span><br>
        <script type="text/javascript" src="https://udbaa.com/bnr.php?section=Muenster&pub=453119&format=468x60&ga=g"></script><br>
        <a class="fuckingbox" href="https://muensterchat.glitch.me/articles/index.html" target="_blank">
          <img 
            src="https://cdn.glitch.global/3758b37a-5fff-4595-b604-762ee951816d/news.png?v=1679410043532"
          />
          Help &amp; News
        </a>
        <a class="fuckingbox" href="https://discord.gg/Sb8NzVbqX8" target="_blank">
          <img 
            src="https://cdn.glitch.global/3758b37a-5fff-4595-b604-762ee951816d/discord.png?v=1679410055242"
          />
          D﻿і﻿ѕ﻿с﻿о﻿r﻿d
        </a>
        <a class="fuckingbox" href="https://muensterchat.glitch.me/styleguide/index.html" target="_blank">
          <img 
            src="https://cdn.glitch.global/3758b37a-5fff-4595-b604-762ee951816d/markdown.png?v=1679410740982"
          />
          Markdown
        </a>
        <a class="fuckingbox" href="https://mnstr.glitch.me/?gh" target="_blank">
          <img 
            src="https://cdn.glitch.global/3758b37a-5fff-4595-b604-762ee951816d/github.png"
          />
          G﻿і﻿t﻿h﻿u﻿b
        </a>
        <a class="fuckingbox" href="https://muensterchat.glitch.me/admin/index.html" target="_blank">
          <img 
            src="https://cdn.glitch.global/3758b37a-5fff-4595-b604-762ee951816d/crown.png?v=1679410806105"
          />
          Admin
        </a>
      </div>
    </div>
    <div id="discoveryWindow" class="messages" style="display: none">
      This feature is a work in progress...
    </div>
    <div id="msgbar" class="msgbar">
      <textarea placeholder="Send a message!" class="messagetext" id="messagetext" data-gramm="false"></textarea>
      <input src="https://cdn.glitch.global/3758b37a-5fff-4595-b604-762ee951816d/send.png?v=1678745187601" type="image" class="button send" alt="Send" onclick="sendMessage();" placeholder="Type a message here!" />
      <input src="https://cdn.glitch.global/3758b37a-5fff-4595-b604-762ee951816d/upload.png" type="image" class="button send upload" alt="Upload" onclick="document.getElementById('imgupload').click();" placeholder="Type a message here!" />
      <span class="aboutmuenster" id="aboutmuenster">Muenster</span>
    </div>
  </div>

  <div id="errorpage" class="page" style="background-image: linear-gradient(360deg, #110, #313100)">
    <h1>It seems that something has went wrong...</h1>
    We've encountered an error and you need to reload the page.<br /><br />
    <input type="button" class="button" value="Reload" onclick="document.location.reload();" />
    <br /><br />
    <details>
      <summary>CLICK FOR DETAILS</summary>
      <span id="errortext">
        If you can read this, then the error page broke. :(
      </span>
    </details>
  </div>

  <div id="warningpage" class="page" style="background-image: linear-gradient(360deg, #110, #313100)">
    <h1>Warning</h1>
    You've been warned and your account has been deactivated for breaking the
    rules of Muenster. <br />
    Warning notes: <span id="warnnote">Failed to fetch</span><br />
    You must agree to the
    <a href="/rules/index.html" target="_blank">Community Guidelines</a>
    before you reactivate your account.
    <input type="button" class="button2" value="I agree, reactivate my account" onclick="reactivateAccount();" />
  </div>

  <div id="banpage" class="page" style="background-image: linear-gradient(360deg, #110, #313100)">
    <h1>You've been banned.</h1>
    You've been banned for breaking the rules of Muenster. <br />
    Ban notes: <span id="bannote">Failed to fetch</span><br />
    <span id="appealtext">You can file an appeal
      <a href="https://github.com/lukasexists/muenster-appeals/issues/new?assignees=&labels=&template=appeal-template.md&title=Appeal">here</a>
      on Github.</span>
  </div>
  <div id="beepboop" class="page" style="background-image: linear-gradient(360deg, #110, #313100)">
    <h1>Beep boop.</h1>
    Boop beep?<br />
    <canvas id="testes" style="width: 500px; height: 150px"></canvas><br />
    <input class="loginbox" placeholder="Type the text you see here." onclick="" id="beeptxt" />
    <input type="button" class="button2" value="Verify" onclick="changeUsername();" />
  </div>

  <input type="file" style="display: none" id="imgupload" accept="image/png, image/jpeg, audio/mpeg" />
  <input type="file" style="display: none" id="profileupload" accept="image/png" />
  <script src="https://cdn.jsdelivr.net/gh/red-stone-network/clockwork@main/tools/clockwork.js"></script>
  <script src="https://code.jquery.com/jquery-2.2.2.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.6.0/socket.io.js"></script>
  <script src="enc-dec.js"></script>
  <script src="script.js"></script>
</body>

</html>
